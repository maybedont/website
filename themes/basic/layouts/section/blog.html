{{ define "main" }}
<div class="content-page">
  <div class="content-container">
    <header class="content-header">
      <h1 class="content-title">{{ .Title }}</h1>
      {{ with .Content }}
      <div class="content-intro">
        {{ . }}
      </div>
      {{ end }}
    </header>

    <section class="blog-list">
      {{ $posts := where .Site.RegularPages.ByDate.Reverse "Section" "blog" }}

      {{ if $posts }}
        {{ range $posts }}
        <article class="blog-post-card">
          <h2 class="blog-post-title">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
          </h2>
          {{ if .Params.subtitle }}
          <p class="blog-post-subtitle">{{ .Params.subtitle }}</p>
          {{ end }}

          {{ if .Summary }}
          <p class="blog-post-summary">
            {{ .Summary }}
          </p>
          {{ end }}

          {{ if .Date }}
          <p class="blog-post-meta">
            <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
              {{ .Date | time.Format ":date_long" }}
            </time>
          </p>
          {{ end }}
        </article>
        {{ end }}
      {{ else }}
        <p>No blog posts found.</p>
      {{ end }}
    </section>
  </div>
</div>
{{ end }}
